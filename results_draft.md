# 实验结果汇总

本文件用于集中存放实验结果与图表说明，数据由 `code/run_experiments_torch.py` 生成后填充。表格与数值需与代码输出一致，确保可复现与可追溯。

## 实验配置

### 数据集
- **来源**: CSE-CIC-IDS2018 (Thursday-01-03-2018)
- **原始样本数**: 328,181
- **清洗后样本数**: 328,181
- **类别**: 2 类 (Benign, DDoS)
- **训练集**: 50,000 样本 (采样后，保持类别平衡)
- **测试集**: 65,637 样本
- **特征数**: 30 个核心流量统计特征

### 硬件环境
- **GPU**: NVIDIA GeForce RTX 4060 Laptop GPU
- **CPU**: Intel Core i7-12650H (16 核心)
- **内存**: 23 GB
- **CUDA**: 12.9

### 软件环境
- **Python**: 3.11
- **PyTorch**: 2.9 (GPU)
- **scikit-learn**: 最新稳定版
- **其他**: pandas, numpy, matplotlib, scienceplots

## 降维结果概览

表 1 记录 PCA/LDA/t-SNE 在不同维度下的结构指标与信息保留情况，后续用于分析维度设置对检测效果与耗时的影响。

| Reducer | n_components | Information_retention | Class_separation | Notes |
| --- | --- | --- | --- | --- |
| PCA | 10 | [待填充] | [待填充] | 主成分累积方差解释率 |
| PCA | 15 | [待填充] | [待填充] | 主成分累积方差解释率 |
| PCA | 20 | [待填充] | [待填充] | 主成分累积方差解释率 |
| LDA | 15 | [待填充] | [待填充] | 类间/类内散度比 |
| t-SNE | 15 | [待填充] | [待填充] | Trustworthiness (局部结构保持) |

**说明**:
- **Information_retention**: 对于 PCA/LDA，表示累积方差解释率（越高越好，接近 1 表示信息保留充分）；对于 t-SNE，表示 Trustworthiness 指标（衡量高维邻域在低维空间中的保持程度）。
- **Class_separation**: 类间分离度指标，计算为类间散度与类内散度之比（越高表示类别在降维后更易区分）。

## 组合对比结果

表 2 为 15 组"降维×分类"组合的核心指标汇总，统一口径输出准确率、误报率、漏报率与预测耗时。

| Reducer | n_components | Classifier | Accuracy | FPR | FNR | Train_time_s | Predict_time_s | Best_params |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| PCA | 10 | SVM | [待填充] | [待填充] | [待填充] | [待填充] | [待填充] | [待填充] |
| PCA | 10 | RandomForest | [待填充] | [待填充] | [待填充] | [待填充] | [待填充] | [待填充] |
| PCA | 10 | LogisticRegression | [待填充] | [待填充] | [待填充] | [待填充] | [待填充] | [待填充] |
| PCA | 15 | SVM | [待填充] | [待填充] | [待填充] | [待填充] | [待填充] | [待填充] |
| PCA | 15 | RandomForest | [待填充] | [待填充] | [待填充] | [待填充] | [待填充] | [待填充] |
| PCA | 15 | LogisticRegression | [待填充] | [待填充] | [待填充] | [待填充] | [待填充] | [待填充] |
| PCA | 20 | SVM | [待填充] | [待填充] | [待填充] | [待填充] | [待填充] | [待填充] |
| PCA | 20 | RandomForest | [待填充] | [待填充] | [待填充] | [待填充] | [待填充] | [待填充] |
| PCA | 20 | LogisticRegression | [待填充] | [待填充] | [待填充] | [待填充] | [待填充] | [待填充] |
| LDA | 15 | SVM | [待填充] | [待填充] | [待填充] | [待填充] | [待填充] | [待填充] |
| LDA | 15 | RandomForest | [待填充] | [待填充] | [待填充] | [待填充] | [待填充] | [待填充] |
| LDA | 15 | LogisticRegression | [待填充] | [待填充] | [待填充] | [待填充] | [待填充] | [待填充] |
| t-SNE | 15 | SVM | [待填充] | [待填充] | [待填充] | [待填充] | [待填充] | [待填充] |
| t-SNE | 15 | RandomForest | [待填充] | [待填充] | [待填充] | [待填充] | [待填充] | [待填充] |
| t-SNE | 15 | LogisticRegression | [待填充] | [待填充] | [待填充] | [待填充] | [待填充] | [待填充] |

**指标说明**:
- **Accuracy**: 准确率 = (TP + TN) / (TP + TN + FP + FN)
- **FPR**: 误报率 = FP / (FP + TN)，将正常流量误判为攻击的比例
- **FNR**: 漏报率 = FN / (FN + TP)，将攻击流量误判为正常的比例
- **Train_time_s**: 训练时间（包含网格搜索与交叉验证，单位：秒）
- **Predict_time_s**: 测试集预测时间（单位：秒）
- **Best_params**: 网格搜索选出的最优超参数配置

## 重点攻击类型结果

表 3 用于记录高发攻击类型（DDoS）在最优组合下的检测指标。

| Attack_type | Precision | Recall | F1 | Best_model | Notes |
| --- | --- | --- | --- | --- | --- |
| DDoS | [待填充] | [待填充] | [待填充] | [待填充] | 基于测试集的最优模型评估 |

**说明**:
- **Precision**: 精确率 = TP / (TP + FP)，预测为攻击的样本中真正为攻击的比例
- **Recall**: 召回率 = TP / (TP + FN)，实际攻击样本中被正确识别的比例
- **F1**: F1 分数 = 2 × (Precision × Recall) / (Precision + Recall)
- **Best_model**: 最优模型组合（降维方法 + 分类器 + 维度）

## 可视化图表

### 降维可视化（二维散点图）
- `figures/PCA_10_2d.png`: PCA 10 维降维后的前两个主成分
- `figures/PCA_15_2d.png`: PCA 15 维降维后的前两个主成分
- `figures/PCA_20_2d.png`: PCA 20 维降维后的前两个主成分
- `figures/LDA_15_2d.png`: LDA 15 维降维后的前两个判别方向
- `figures/t-SNE_15_2d.png`: t-SNE 15 维降维后的二维嵌入

所有图表使用 IEEE 风格（SciencePlots），采用统一的配色方案与标注格式，确保专业性与可读性。

## 结果分析要点

### 降维方法对比

[待实验完成后填充]:
1. **信息保留**: PCA 在不同维度下的方差解释率对比
2. **类别分离**: LDA 相比 PCA 在类间分离度上的优势
3. **可视化效果**: t-SNE 在二维空间中的簇结构呈现

### 分类器性能对比

[待实验完成后填充]:
1. **准确率**: 哪种组合达到最高准确率？
2. **误报/漏报平衡**: 不同组合在 FPR 与 FNR 上的trade-off
3. **检测效率**: 训练时间与预测时间的对比分析

### 维度设置影响

[待实验完成后填充]:
1. **PCA 维度选择**: 10/15/20 维在性能与效率上的权衡
2. **最优维度**: 综合考虑准确率、误报率与耗时的推荐配置

### 实用性评估

[待实验完成后填充]:
1. **实时检测可行性**: 基于预测时间的分析
2. **部署建议**: 针对中小型网络环境的模型选择建议
3. **局限性与改进方向**: 当前方法的不足与未来优化方向
